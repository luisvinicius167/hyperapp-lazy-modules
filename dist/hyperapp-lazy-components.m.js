var n={};function t(n,o){return function(e,a){return t.modules=e,t.loading=a,t.app=n,t.container=o,{actions:{fetching:function(n){return function(){return{fetching:n}}},lazy:{fetching:function(){return function(){return{lazy:{loading:!0,props:void 0}}}},loaded:function(n){return function(){return{lazy:{view:n,loading:!1,props:void 0}}}}}},state:{fetching:!1,lazy:{view:null,loading:!0,props:void 0}}}}}var o=Object.assign,e=function(n){return n.default?n.default:n},a=function(e){var a,c,i,r,p,s,u=e.state,f=n[e.component];return a={component:f.component,actions:o({},e.actions,f.actions),state:o({},u,f.state),props:e.props},c=a.component,r=a.actions,p=t.container,s=o(i=a.state,{lazy:{props:a.props,loading:!1}}),t.app(s,r,c,p),void(i.fetching&&r.fetching(!1))},c=function(o){var c=o.component,i=o.props;return function(o,r){return n[c]?a({component:c,state:o,actions:r,props:i}):(p={component:c,state:o,actions:r,props:i},Promise.all([t.modules[p.component].component,t.modules[p.component].actions,t.modules[p.component].state]).then(function(t){var o=t[1],a=t[2],c=e(t[0]);n[p.component]={component:c,state:e(a),actions:e(o)},p.state.fetching&&p.actions.lazy.loaded(c,!1)}),!p.state.fetching&&p.actions.fetching(!0),p.state.fetching&&t.app(!0,{},t.loading(!0),t.container.children[0]));var p}};export{t as createLazy,c as Lazy};
//# sourceMappingURL=hyperapp-lazy-components.m.js.map
