var n={};function t(n,e){return function(i,o){return t.modules=i,t.isFetching=o,t.app=n,t.container=e,{actions:{fetching:function(t){return function(){return{fetching:t}}},lazy:{fetching:function(){return function(){return{lazy:{fetching:!0,props:void 0}}}},loaded:function(t){return function(){return{lazy:{view:t,fetching:!1,props:void 0}}}}}},state:{fetching:!1,lazy:{view:null,fetching:!0,props:void 0}}}}}var o=Object.assign,e=function(t){return t.default?t.default:t},a=function(e){var i,a,r,c,s,u,f=e.state,l=n[e.module];return i={view:l.view,actions:o({},e.actions,l.actions),state:o({},f,l.state),props:e.props},a=i.view,c=i.actions,s=t.container,u=o(r=i.state,{lazy:{props:i.props,fetching:!1}}),t.app(u,c,a,s),void(r.fetching&&c.fetching(!1))},c=function(i){var o=i.module,r=i.props;return function(i,c){return n[o]?a({module:o,state:i,actions:c,props:r}):(s={module:o,state:i,actions:c,props:r},Promise.all([t.modules[s.module].view,t.modules[s.module].actions,t.modules[s.module].state]).then(function(t){var i=t[1],o=t[2],a=e(t[0]);n[s.module]={view:a,state:e(o||{}),actions:e(i)},s.state.fetching&&s.actions.lazy.loaded(a,!1)}),!s.state.fetching&&s.actions.fetching(!0),s.state.fetching&&t.app(!0,{},t.isFetching(!0),t.container.children[0]));var s}};export{t as createLazy,c as Lazy};
//# sourceMappingURL=hyperapp-lazy-components.m.js.map
