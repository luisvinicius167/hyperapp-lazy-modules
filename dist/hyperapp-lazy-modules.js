var t={};function n(t,e){return function(o,i){return n.modules=o,n.isFetching=i,n.app=t,n.container=e,{actions:{fetching:function(t){return function(){return{fetching:t}}},lazy:{fetching:function(){return function(){return{lazy:{fetching:!0,props:void 0}}}},loaded:function(t){return function(){return{lazy:{view:t,fetching:!1,props:void 0}}}}}},state:{fetching:!1,lazy:{view:null,fetching:!0,props:void 0}}}}}var e=Object.assign,o=function(t){return t.default?t.default:t},i=function(o){var i,a,r,c,s,u=o.state,p=t[o.module];return i={view:p.view,actions:e({},o.actions,p.actions),state:e({},u,p.state),props:o.props},a=i.view,r=i.actions,c=n.container,s=e(i.state,{lazy:{props:i.props,fetching:!1}}),void n.app(s,r,a,c)};exports.createLazy=n,exports.Lazy=function(e){var a=e.module,r=e.props;return function(e,c){return t[a]?i({module:a,state:e,actions:c,props:r}):(s={module:a,state:e,actions:c,props:r},Promise.all([n.modules[s.module].view,n.modules[s.module].actions,n.modules[s.module].state]).then(function(n){var e=n[1],i=n[2],a=o(n[0]);t[s.module]={view:a,state:o(i||{}),actions:o(e)},s.state.fetching&&s.actions.lazy.loaded(a,!1)}),!s.state.fetching&&s.actions.fetching(!0),s.state.fetching&&n.app(!0,{},n.isFetching(!0),n.container.children[0]));var s}};
