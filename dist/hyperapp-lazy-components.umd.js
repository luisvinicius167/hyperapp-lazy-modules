!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.hyperappLazyComponents={})}(this,function(n){var t={};function o(n,t){return function(e,i){return o.modules=e,o.loading=i,o.app=n,o.container=t,{actions:{fetching:function(n){return function(){return{fetching:n}}},lazy:{fetching:function(){return function(){return{lazy:{loading:!0,props:void 0}}}},loaded:function(n){return function(){return{lazy:{view:n,loading:!1,props:void 0}}}}}},state:{fetching:!1,lazy:{view:null,loading:!0,props:void 0}}}}}var e=Object.assign,i=function(n){return n.default?n.default:n},a=function(n){var i,a,c,r,p,s,u=n.state,f=t[n.component];return i={component:f.component,actions:e({},n.actions,f.actions),state:e({},u,f.state),props:n.props},a=i.component,r=i.actions,p=o.container,s=e(c=i.state,{lazy:{props:i.props,loading:!1}}),o.app(s,r,a,p),void(c.fetching&&r.fetching(!1))};n.createLazy=o,n.Lazy=function(n){var e=n.component,c=n.props;return function(n,r){return t[e]?a({component:e,state:n,actions:r,props:c}):(p={component:e,state:n,actions:r,props:c},Promise.all([o.modules[p.component].component,o.modules[p.component].actions,o.modules[p.component].state]).then(function(n){var o=n[1],e=n[2],a=i(n[0]);t[p.component]={component:a,state:i(e),actions:i(o)},p.state.fetching&&p.actions.lazy.loaded(a,!1)}),!p.state.fetching&&p.actions.fetching(!0),p.state.fetching&&o.app(!0,{},o.loading(!0),o.container.children[0]));var p}}});
//# sourceMappingURL=hyperapp-lazy-components.umd.js.map
